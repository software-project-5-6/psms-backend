# =========================================================
# SERVER CONFIGURATION
# =========================================================
server.port=8080
spring.application.name=backend

# =========================================================
# DATABASE CONFIGURATION (MySQL)
# =========================================================
spring.datasource.url=jdbc:mysql://localhost:3306/psms_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username= root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# =========================================================
# AWS COGNITO CONFIGURATION
# =========================================================
aws.cognito.region=eu-north-1
aws.cognito.user-pool-id=eu-north-1_0QFCbEsah
aws.cognito.client-id=5veqtnqonicfsgr4eaidrj7a7g
aws.cognito.domain=psms.eu-north-1.amazoncognito.com
aws.cognito.jwk-url=https://cognito-idp.eu-north-1.amazonaws.com/eu-north-1_0QFCbEsah/.well-known/jwks.json

# =========================================================
# ? SPRING SECURITY (JWT RESOURCE SERVER)
# =========================================================
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://cognito-idp.eu-north-1.amazonaws.com/eu-north-1_0QFCbEsah


# =========================================================
# ? LOGGING CONFIGURATION
# =========================================================
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.Majstro.psmsbackend=DEBUG

# =========================================================
# ? SWAGGER / OPENAPI (Springdoc + PKCE + Cognito Integration)
# =========================================================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html

# OAuth2 client config for Swagger (PKCE Flow)
springdoc.swagger-ui.oauth.client-id=5veqtnqonicfsgr4eaidrj7a7g
springdoc.swagger-ui.oauth.use-pkce-with-authorization-code-grant=true
springdoc.swagger-ui.oauth2-redirect-url=http://localhost:8080/swagger-ui/oauth2-redirect.html
springdoc.swagger-ui.oauth.scopes=openid email profile aws.cognito.signin.user.admin
#springdoc.swagger-ui.oauth.additional-query-string-params.response_type=code id_token token


# =========================================================
# ? DEVTOOLS (Optional - Auto Restart)
# =========================================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true


# ===============================
#  SPRING MAIL CONFIG (GMAIL SMTP)
# ===============================

spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=niroshanb777@gmail.com
spring.mail.password=effyxjqnvigdzgaa

# Enable authentication and TLS
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Optional: debug logs (helpful during setup)
spring.mail.properties.mail.debug=true

# ===============================
#  FRONTEND CONFIGURATION
# ===============================
app.frontend.url=http://localhost:5173



# =======================================
#  Artifact storage local configurations
# =======================================
file.upload.base-path=storage/projects
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

